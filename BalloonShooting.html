<!DOCTYPE html>
<html>
  <head>
    <title>Random Balloons</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      #balloon-canvas, #crosshair-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      #crosshair-canvas {
        pointer-events: none;
        z-index: 1;
      }
	  #score-board {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 24px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <canvas id="balloon-canvas"></canvas>
    <canvas id="crosshair-canvas"></canvas>
	<div id="score-board">Balloons Burst: 0</div>
    <script>
    const balloonCanvas = document.getElementById('balloon-canvas');
    const balloonCtx = balloonCanvas.getContext('2d');
    const crosshairCanvas = document.getElementById('crosshair-canvas');
    const crosshairCtx = crosshairCanvas.getContext('2d');
    const balloons = [];
    const crosshair = {
        x: 0,
        y: 0,
        size: 0.5,
        color: '#FF5733'
    };
	  
	let balloonsExploded = 0; // New variable for score
	  
    function createBalloon() {
        const balloon = {
          x: Math.random() * balloonCanvas.width,
          y: balloonCanvas.height,
          r: 14 + Math.random() * 21,
          dy: 2 + Math.random() * 4,
          color: '#' + (Math.random() * 0xFFFFFF << 0).toString(16)
        };
		
        balloons.push(balloon);
    }

    function updateBalloons() {
        for (let i = balloons.length - 1; i >= 0; i--) {
          const balloon = balloons[i];
          balloon.y -= balloon.dy;
          if (balloon.y + balloon.r < 0) {
            balloons.splice(i, 1);
          }
        }
    }

    function drawBalloons() {
        // Clear the canvas
        clearCanvas(balloonCtx, balloonCanvas);

        // Draw the balloons
        for (const balloon of balloons) {
          balloonCtx.beginPath();
          balloonCtx.ellipse(balloon.x, balloon.y, balloon.r * 0.8, balloon.r, 0, 0, 2 * Math.PI);
          balloonCtx.fillStyle = balloon.color;
          balloonCtx.fill();
        }
    }

    function drawCrosshair() {
        // Clear the canvas
        clearCanvas(crosshairCtx, crosshairCanvas);

        // Draw the circle
        crosshairCtx.beginPath();
        crosshairCtx.arc(crosshair.x, crosshair.y, 10, 0, 2 * Math.PI);
        crosshairCtx.strokeStyle = '#000000';
        crosshairCtx.lineWidth = 2;
        crosshairCtx.stroke();

        // Draw the horizontal line
        crosshairCtx.beginPath();
        crosshairCtx.moveTo(crosshair.x - 10, crosshair.y);
        crosshairCtx.lineTo(crosshair.x + 10, crosshair.y);
        crosshairCtx.strokeStyle = crosshair.color;
        crosshairCtx.lineWidth = 2;
        crosshairCtx.stroke();

        // Draw the vertical line
        crosshairCtx.beginPath();
        crosshairCtx.moveTo(crosshair.x, crosshair.y - 10);
        crosshairCtx.lineTo(crosshair.x, crosshair.y + 10);
        crosshairCtx.strokeStyle = crosshair.color;
        crosshairCtx.lineWidth = 2;
		crosshairCtx.stroke();
    }

	function explodeBalloon(x, y, r, color) {
		const particles = [];

		// Create particles
		for (let i = 0; i < 20; i++) {
			particles.push({
			  x: x,
			  y: y,
			  dx: (Math.random() - 0.5) * r * 4,
			  dy: (Math.random() - 0.5) * r * 4,
			  size: r / 4,
			  color: color
			});
		}

		// Update balloons exploded count
		balloonsExploded++;
		const scoreBoard = document.getElementById('score-board');
		scoreBoard.textContent = 'Balloons Burst: ' + balloonsExploded;

		// Render particles
		let frame = 0;
		const maxFrames = 20;
		const render = () => {
			clearCanvas(balloonCtx, balloonCanvas);
			for (const particle of particles) {
			  particle.x += particle.dx;
			  particle.y += particle.dy;
			  particle.size *= 0.9;
			  balloonCtx.beginPath();
			  balloonCtx.ellipse(particle.x, particle.y, particle.size, particle.size, 0, 0, 2 * Math.PI);
			  balloonCtx.fillStyle = particle.color;
			  balloonCtx.fill();
			}
			
			if (frame < maxFrames) {
			  frame++;
			  requestAnimationFrame(render);
			}
		};
		requestAnimationFrame(render);
	}

     balloonCanvas.addEventListener('mousemove', e => {
		const rect = balloonCanvas.getBoundingClientRect();
		const scaleX = balloonCanvas.width / rect.width;
		const scaleY = balloonCanvas.height / rect.height;
		const x = (e.clientX - rect.left) * scaleX;
		const y = (e.clientY - rect.top) * scaleY;
	  
		crosshair.x = x;
		crosshair.y = y;
	});

	balloonCanvas.addEventListener('click', e => {
		for (let i = balloons.length - 1; i >= 0; i--) {
			const balloon = balloons[i];
			const dx = crosshair.x - balloon.x;
			const dy = crosshair.y - balloon.y;
			if (dx * dx + dy * dy < balloon.r * balloon.r) {
				balloons.splice(i, 1);
				explodeBalloon(balloon.x, balloon.y, balloon.r, balloon.color);
				setTimeout(() => {
					clearCanvas(balloonCtx, balloonCanvas);
				}, 500);
				break;
			}
		}
	});

	function clearCanvas(ctx, canvas) {
		ctx.clearRect(0, 0, canvas.width, canvas.height);
	}

	setInterval(() => {
	  createBalloon();
	}, 1000);

	setInterval(() => {
	  updateBalloons();
	  drawBalloons();
	  drawCrosshair();
	}, 30);

    </script>
  </body>
</html>
